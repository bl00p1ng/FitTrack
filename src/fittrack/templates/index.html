{% extends "base_template.html" %}

{% block title %}FitTrack - Inicio{% endblock %}

{% block content %}
<div class="hero">
    <h1>Bienvenido a FitTrack</h1>
    <p class="hero-subtitle">Crea y comparte tus rutinas de entrenamiento</p>
    {% if not current_user.is_authenticated %}
        <div class="hero-actions">
            <a href="{{ url_for('signup') }}" class="btn btn-primary">Comenzar</a>
            <a href="{{ url_for('login') }}" class="btn btn-secondary">Ingresar</a>
        </div>
    {% endif %}
</div>

{% if current_user.is_authenticated %}
<section class="routines-section">
    <div class="section-header">
        <h2>Todas las Rutinas</h2>
        <a href="{{ url_for('create_routine') }}" class="btn btn-primary">Crear Nueva Rutina</a>
    </div>

    {% if routines %}
        <div class="routines-grid">
            {% for routine in routines %}
                <div class="routine-card">
                    <div class="routine-header">
                        <h3>
                            <a href="{{ url_for('routine_detail', slug=routine.slug) }}">
                                {{ routine.name }}
                            </a>
                        </h3>
                        <span class="difficulty-badge difficulty-{{ routine.difficulty|lower }}">
                            {{ routine.difficulty }}
                        </span>
                    </div>
                    <p class="routine-description">
                        {{ routine.description[:150] }}{% if routine.description|length > 150 %}...{% endif %}
                    </p>
                    <div class="routine-meta">
                        <span class="routine-author">
                            Por {{ routine.author.username }}
                        </span>
                        <span class="routine-date">
                            {{ routine.created_at.strftime('%d/%m/%Y') }}
                        </span>
                    </div>
                    <a href="{{ url_for('routine_detail', slug=routine.slug) }}" class="btn btn-sm">
                        Ver Detalles
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>Aún no hay rutinas. ¡Crea tu primera rutina!</p>
            <a href="{{ url_for('create_routine') }}" class="btn btn-primary">Crear Primera Rutina</a>
        </div>
    {% endif %}
</section>
{% endif %}
{% endblock %}
